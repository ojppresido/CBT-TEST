<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics Diagram Integration Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .question-card {
            border: 1px solid #ddd;
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            background-color: #fafafa;
        }
        .question-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .diagram-container {
            margin: 15px 0;
            padding: 10px;
            border: 1px solid #eee;
            background-color: white;
            border-radius: 4px;
        }
        .diagram-container h5 {
            margin: 0 0 10px 0;
            color: #555;
        }
        .question-text {
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .test-section {
            margin: 30px 0;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mathematics Diagram Integration Test</h1>
        
        <div class="status success">
            <strong>System Status:</strong> Mathematics diagram processing system is fully operational.
        </div>
        
        <div class="test-section">
            <h2>System Capabilities</h2>
            <ul>
                <li>Identifies questions related to diagrams, lines, circles, length, distance, and geometry</li>
                <li>Generates SVG representations for geometric concepts</li>
                <li>Manages diagrams in a centralized file by question ID</li>
                <li>Provides functions to retrieve diagrams by question ID</li>
                <li>Supports all mathematics questions and explanation pages</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>Sample Diagrams by Question ID</h2>
            
            <div class="question-card">
                <div class="question-title">Question ID: 6 (Bearing Question)</div>
                <div class="question-text">
                    The bearing of town B from town A is 135°. What is the bearing of A from B?
                </div>
                <div class="diagram-container">
                    <h5>Diagram:</h5>
                    <svg width="300" height="300" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                      <!-- Circle representing compass -->
                      <circle cx="150" cy="150" r="120" stroke="black" stroke-width="2" fill="white"/>
                      
                      <!-- North, South, East, West labels -->
                      <text x="150" y="40" text-anchor="middle" font-size="14" font-weight="bold">N</text>
                      <text x="150" y="275" text-anchor="middle" font-size="14" font-weight="bold">S</text>
                      <text x="265" y="155" text-anchor="middle" font-size="14" font-weight="bold">E</text>
                      <text x="35" y="155" text-anchor="middle" font-size="14" font-weight="bold">W</text>
                      
                      <!-- Cardinal direction lines -->
                      <line x1="150" y1="30" x2="150" y2="270" stroke="gray" stroke-width="1" stroke-dasharray="5,5"/>
                      <line x1="30" y1="150" x2="270" y2="150" stroke="gray" stroke-width="1" stroke-dasharray="5,5"/>
                      <line x1="60" y1="60" x2="240" y2="240" stroke="gray" stroke-width="1" stroke-dasharray="5,5"/>
                      <line x1="240" y1="60" x2="60" y2="240" stroke="gray" stroke-width="1" stroke-dasharray="5,5"/>
                      
                      <!-- Bearing line -->
                      <line x1="150" y1="150" x2="220.71" y2="220.71" stroke="red" stroke-width="3"/>
                      
                      <!-- Bearing angle arc -->
                      <path d="M160,140 A10 10 0 0 1 164.14,164.14" fill="none" stroke="blue" stroke-width="2"/>
                      
                      <!-- Bearing label -->
                      <text x="186.96" y="134.69" font-size="12" fill="blue">135°</text>
                    </svg>
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-title">Question ID: 12 (Circle Chord Question)</div>
                <div class="question-text">
                    A chord of length 12 cm is 8 cm from the centre of a circle. Find the radius.
                </div>
                <div class="diagram-container">
                    <h5>Diagram:</h5>
                    <svg width="300" height="300" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                      <!-- Circle -->
                      <circle cx="150" cy="150" r="100" stroke="black" stroke-width="2" fill="none"/>
                      
                      <!-- Chord -->
                      <line x1="100" y1="200" x2="200" y2="200" stroke="red" stroke-width="3"/>
                      
                      <!-- Perpendicular from center to chord -->
                      <line x1="150" y1="150" x2="150" y2="200" stroke="blue" stroke-width="2" stroke-dasharray="5,5"/>
                      
                      <!-- Radius to one end of chord -->
                      <line x1="150" y1="150" x2="200" y2="200" stroke="green" stroke-width="2"/>
                      
                      <!-- Labels -->
                      <text x="155" y="180" font-size="12" fill="blue">8 cm</text>
                      <text x="175" y="205" font-size="12" fill="red">12 cm</text>
                      <text x="180" y="180" font-size="12" fill="green">r = ?</text>
                      <text x="155" y="145" font-size="12" fill="black">O</text>
                      <text x="195" y="205" font-size="12" fill="black">A</text>
                      <text x="95" y="205" font-size="12" fill="black">B</text>
                      <text x="155" y="205" font-size="12" fill="black">M</text>
                    </svg>
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-title">Question ID: 19 (Cone Volume Question)</div>
                <div class="question-text">
                    Find the volume of a cone of radius 7 cm and height 12 cm.
                </div>
                <div class="diagram-container">
                    <h5>Diagram:</h5>
                    <svg width="200" height="250" viewBox="0 0 200 250" xmlns="http://www.w3.org/2000/svg">
                      <!-- Cone -->
                      <path d="M100,50 L30,200 Q100,230 170,200 Z" fill="none" stroke="black" stroke-width="2"/>
                      
                      <!-- Base circle (ellipse) -->
                      <ellipse cx="100" cy="200" rx="70" ry="15" fill="none" stroke="black" stroke-width="2"/>
                      
                      <!-- Height line -->
                      <line x1="100" y1="50" x2="100" y2="200" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
                      
                      <!-- Radius line -->
                      <line x1="100" y1="200" x2="170" y2="200" stroke="blue" stroke-width="2"/>
                      
                      <!-- Labels -->
                      <text x="105" y="130" font-size="12" fill="red">h=12cm</text>
                      <text x="130" y="215" font-size="12" fill="blue">r=7cm</text>
                    </svg>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>System Information</h2>
            <div class="status info">
                <strong>Diagram Processing Results:</strong><br>
                - Total Questions Processed: 20<br>
                - Diagram-Related Questions Identified: 17<br>
                - Questions with Generated/Specialized Diagrams: 17<br>
                - Centralized Diagram Files Created:<br>
                &nbsp;&nbsp;• math_diagram_map.json (Question ID to SVG mapping)<br>
                &nbsp;&nbsp;• math_diagrams_centralized.svg (All diagrams in one file)<br>
                - Available Question IDs with Diagrams: [1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20]
            </div>
        </div>
        
        <div class="test-section">
            <h2>Integration Functions</h2>
            <p>The system provides the following functions for integration with the CBT application:</p>
            <ul>
                <li><code>getDiagramByQuestionId(questionId)</code> - Get SVG diagram for a specific question</li>
                <li><code>getDiagramHTMLByQuestionId(questionId)</code> - Get complete HTML with diagram container</li>
                <li><code>hasDiagram(questionId)</code> - Check if a question has a diagram</li>
                <li><code>getQuestionIdsWithDiagrams()</code> - Get all question IDs with diagrams</li>
                <li><code>updateDiagram(questionId, svgContent)</code> - Add/update a diagram</li>
            </ul>
        </div>
    </div>
</body>
</html>